from shapely.wkt import loads
from shapely.geometry import mapping
import json

# Chuỗi WKT của MULTIPOLYGON
multipolygon_wkt = """
MULTIPOLYGON (((105.78835682561 21.3687531851594,105.759025263863 21.4190358624393,105.666840355517 21.4776989859324,105.553704331637 21.5908350098121,105.478280315718 21.5615034480655,105.390285630478 21.532171886319,105.293910499025 21.5363621094256,105.281339829705 21.4693185397191,105.348383399411 21.385514077586,105.377714961158 21.4022749700126,105.415426969118 21.3142802847729,105.369334514945 21.3268509540928,105.314861614558 21.2891389461329,105.327432283878 21.2220953764265,105.256198491065 21.1927638146799,105.256198491065 21.0921984601201,105.302290945238 21.008393997987,105.423807415331 20.9874428824538,105.469899869504 20.9832526593471,105.461519423291 20.912018866534,105.457329200184 20.8449752968275,105.511802100571 20.7988828426543,105.545323885424 20.7569806115877,105.574655447171 20.7150783805212,105.612367455131 20.6815565956679,105.645889239984 20.6773663725613,105.666840355517 20.6312739183881,105.679411024837 20.5893716873215,105.733883925224 20.5851814642149,105.759025263863 20.5600401255749,105.792547048717 20.522328117615,105.85121017221 20.6270836952814,105.859590618423 20.6522250339213,105.922443965023 20.6606054801346,105.981107088516 20.6731761494546,106.006248427156 20.6983174880945,106.035579988903 20.656415257028,106.052340881329 20.5893716873215,106.131955120356 20.6061325797481,106.152906235889 20.6396543646014,106.152906235889 20.656415257028,106.190618243849 20.6522250339213,106.219949805596 20.6522250339213,106.270232482875 20.6899370418812,106.286993375302 20.7025077112012,106.374988060542 20.7108881574145,106.387558729862 20.7150783805212,106.421080514715 20.6354641414947,106.467172968888 20.5684205717882,106.550977431021 20.6019423566415,106.638972116261 20.6187032490681,106.731157024607 20.6312739183881,106.764678809461 20.6773663725613,106.831722379167 20.7025077112012,106.802390817421 20.7695512809077,106.798200594314 20.7988828426543,106.835912602274 20.8282144044009,106.87781483334 20.7569806115877,106.944858403047 20.7695512809077,106.982570411007 20.7234588267345,107.032853088287 20.6773663725613,107.125037996633 20.7108881574145,107.125037996633 20.7486001653744,107.21722290498 20.7360294960544,107.242364243619 20.777931727121,107.317788259539 20.8072632888676,107.351310044392 20.7569806115877,107.477016737592 20.668985926348,107.535679861085 20.7737415040143,107.523109191765 20.8156437350809,107.565011422832 20.9078286434273,107.590152761472 20.9413504282806,107.602723430792 20.9874428824538,107.640435438752 21.0712473445869,107.690718116032 21.1341006911867,107.757761685738 21.2011442608932,107.845756370978 21.263997607493,107.921180386898 21.3100900616662,107.958892394858 21.3310411771995,108.042696856991 21.3897043006927,108.080408864951 21.4609380935058,108.017555518351 21.6159763484521,107.988223956604 21.6243567946654,108.000794625924 21.5698838942789,107.942131502431 21.6075959022388,107.916990163791 21.6327372408787,107.883468378938 21.6578785795186,107.837375924765 21.6788296950519,107.761951908845 21.6662590257319,107.707479008458 21.6494981333053,107.673957223605 21.628547017772,107.640435438752 21.6201665715587,107.577582092152 21.6159763484521,107.548250530405 21.6159763484521,107.531489637979 21.6159763484521,107.506348299339 21.641117687092,107.485397183805 21.6578785795186,107.443494952739 21.6830199181585,107.389022052352 21.6243567946654,107.334549151966 21.6034056791321,107.225603351193 21.5950252329188,107.196271789446 21.5740741173855,107.19208156634 21.532171886319,107.200462012553 21.4818892090391,107.208842458766 21.4651283166125,107.21722290498 21.4441772010792,107.225603351193 21.4106554162259,107.200462012553 21.3897043006927,107.171130450806 21.3897043006927,107.133418442846 21.385514077586,107.095706434887 21.385514077586,107.070565096247 21.3771336313727,107.037043311393 21.3603727389461,107.020282418967 21.3436118465195,106.99095085722 21.3226607309862,106.96580951858 21.2975193923463,106.95323884926 21.276568276813,106.944858403047 21.2472367150664,106.944858403047 21.2179051533198,106.9155268413 21.2011442608932,106.898765948874 21.1969540377865,106.848483271594 21.1969540377865,106.764678809461 21.1927638146799,106.764678809461 21.1718126991466,106.764678809461 21.1718126991466,106.710205909074 21.1760029222533,106.638972116261 21.1843833684666,106.571928546555 21.2053344839998,106.538406761701 21.2220953764265,106.530026315488 21.2346660457464,106.500694753741 21.2430464919597,106.488124084421 21.2430464919597,106.442031630248 21.2430464919597,106.383368506755 21.2430464919597,106.308944490835 21.239856268853,106.223950805595 21.2430464919597,106.211380136275 21.2304758226397,106.198809466955 21.2095247071064,106.194619243848 21.2011442608932,106.186238797635 21.1969540377865,106.169477905209 21.1969540377865,106.148526789676 21.213714930213,106.123385451036 21.2179051533198,106.094053889289 21.2179051533198,106.04377121201 21.2220953764265,105.99348853473 21.2179051533198,105.98892596996 21.2179051533198,105.967974854426 21.2179051533198,105.947023738893 21.2179051533198,105.92607262336 21.2220953764265,105.922443965023 21.2220953764265,105.905683072596 21.2220953764265,105.847019949103 21.2220953764265,105.831907939454 21.2179051533198,105.815147047028 21.213714930213,105.810955607477 21.2179051533198,105.784364288191 21.2528749360573,105.78835682561 21.3687531851594)))
"""

# Chuyển đổi MULTIPOLYGON từ WKT thành đối tượng Shapely
multipolygon = loads(multipolygon_wkt)

# Chuyển đổi đối tượng Shapely sang GeoJSON
geojson_dict = mapping(multipolygon)

# Thêm thuộc tính khác nếu cần (ví dụ: id hoặc properties)
geojson_feature = {
    "type": "Feature",
    "geometry": geojson_dict,
    "properties": {
        "name": "Example Multipolygon"
    }
}

# Chuyển đối tượng GeoJSON thành chuỗi JSON
geojson_string = json.dumps(geojson_feature, indent=4)

# Xuất ra GeoJSON
print(geojson_string)

# Nếu muốn lưu vào tệp
with open("output.geojson", "w") as f:
    f.write(geojson_string)
